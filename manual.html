<!DOCTYPE html>
<html lang="en">
<head>
	<title>JSForth User's Manual</title>
	<style>
	code {background:#DDD;padding:2px;}
	</style>
</head>
<body>
	<header>
		<h1>JSForth User's Manual</title>
	</header>
	<nav>
		<h1>Contents</h1>
		<ol>
			<li><a href="#intro">Overview</a></li>
			<li>
				<a href="#words">Supported standard Forth words</a>
				<ul>
					<li><a href="#leftParen">(</a></li>
					<li><a href="#comment">\</a></li>
					<li><a href="#plus">+</a></li>
					<li><a href="#minus">-</a></li>
					<li><a href="#times">*</a></li>
					<li><a href="#slash">/</a></li>
					<li><a href="#mod">MOD</a></li>
				</ul>
			</li>
			<li>
				<a href="#JSForthWords">JSForth-specific words</a>
				<ul>
					<li><a href="#pow">^</a></li>
					<li><a href="#clear">CLEAR</a></li>
					<li><a href="#cls">CLS</a></li>
				</ul>
				<!-- TO BE DOCUMENTED
				< > <= >= = != 0= 0< 1+ 1- lshift rshift and or xor . .s emit
				abs dup swap rot pick roll drop over invert
				if ... then do ... loop : ;
				

				See https://forth-standard.org/standard/core
				for words to be added :)
				-->
			</li>
		</ol>
	</nav>
	<main>
		<h1 id="intro">Overview</h1>
		<p>
			This is a Forth implementation in Javascript, with a REPL using <a href="https://xtermjs.org/" target="_blank">xterm.js</a>.
			It started out as a student's college assignment, but it has the potential to be something much cooler and more useful.
			For more info on Forth, see <a href=https://www.forth.com/starting-forth/">Starting FORTH</a>.  It's a simple stack-based
			language, low-level in some ways and yet high-level in others.  The best (or at least funniest) description I ever read is
			in <a href="https://hackaday.com/2017/01/27/forth-the-hackers-language/" target="_blank">this article</a>: "Forth is what
			youâ€™d get if Python slept with Assembly Language: interactive, expressive, and without syntactical baggage, but still very
			close to the metal. Is it a high-level language or a low-level language? Yes! Or rather, itâ€™s the shortest path from one to
			the other."  Who wouldn't want that in a brwoser? ðŸ¤£
		</p>
		<h1 id="words">Supported standard Forth words</h1>
		<p>Note that in this manual, I'm using uppercase just out of convention.  The Forth standard does it, all the tutorials I've seen do it, so it made sense to do that here too.  But don't worry - none of these words are case-sensitive (so dup, DUP and Dup all do the same thing).</p>
		<h2 id="leftParen">(</h2>
		<p>Starts a comment.  For example:</p>
		<code>: doop ( more phonetically correct) dup ;</code>
		<p>In this goofy and kind of pointless example, created a new word "doop" that just runs "dup".  But I explained why in a comment.  Note that, like in nearly all Forths, there has to be a space after the "(" character for this to work.  Doing this has no effect on the stack, so it's a nice way to add comments in your code.</p>
		<p>In fact, the Forth community has kind of adopted this type of comment as a way to tell us what a word does to the stack.  If I wanted to do that with my dopey doop example, my code might look something like this:</p>
		<code>: doop ( number -- number numberAgain ) dup ;</code>
		<p>There's also a form of shorthand that's probably in the standard by now, like using "n" instead of "number", but that is beyond the scope of this manual.</p>
		<h2 id="comment">\</h2>
		<p>This is another way to write a comment.  The difference here is that you don't have to "close it".  This is like "//" or "#" in other languages.  For example:</p>
		<code>: one year 60 24 * 365 * ;    \ 60 minutes * 24 hours * 365 days</code>
		<h2 id="plus">+</h2>
		<p>Pops the top two numbers off the stack, adds them, and pushes the result onto the stack.  For example:</p>
		<code>3 4 +</code>
		<p>Displays: Nothing; Stack: 7</p>
		<h2 id="minus">-</h2>
		<p>Pops the top two numbers off the stack, subtracts the second from the first, and pushes the result onto the stack.  For example:</p>
		<code>10 2 -</code>
		<p>Displays: Nothing; Stack: 8</p>
		<h2 id="times">*</h2>
		<p>Pops the top two numbers off the stack, multiplies them, and pushes the result onto the stack.  For example:</p>
		<code>5 8 *</code>
		<p>Displays: Nothing; Stack: 40</p>
		<h2 id="slash">/</h2>
		<p>Pops the top two numbers off the stack, divides the second by the first, and pushes the result onto the stack.  A few important notes here:</p>
		<ul>
			<li>This is whole-number ("integer") division; there are no decimal places in the result.</li>
			<li>Trying to divide by zero will show an error.</li>
		</ul>
		<p>For example:</p>
		<code>10 2 /</code>
		<p>Displays: Nothing; Stack: 5</p>
		<h2 id="mod">MOD</h2>
		<p>Pops the top two numbers off the stack, divides the second by the first, and pushes the remainder (die-hard Roman math lovers call this "Modulus" and/or "Modulo" - sorry, I don't have any Roman buddies to confirm the exact usage, so I'm calling it "remainder") onto the stack.  Note that just like with <code>/</code>:</p>
		<ul>
			<li>This is whole-number ("integer") division; there are no decimal places in the result.</li>
			<li>Trying to divide by zero will show an error.</li>
		</ul>
		<p>For example:</p>
		<code>10 3 mod</code>
		<p>Displays: Nothing; Stack: 1</p>




		<h1 id="JSForthWords">JSForth-specific words</h1>
		<h2 id="pow">^</h2>
		<p>This calculates exponents.  For example:</p>
		<code>
		2 2 * 2 * .    \ 2 * 2 * 2 = 8.  OR you could do...
		2 3 ^ .        \ 2 to the third power = 8
		</code>
		<h2 id="clear">CLEAR</h2>
		<p>Clears the stack, mo matter how many nnumbers are on it.  For example:</p>
		<code>
		1 2 3 4 .S     \ This would print the stack, which would contain numbers 1-4
		CLEAR .S       \ Again, .S would print the stack, but the stack is now empty.
		</code>
		<h2 id="cls">CLS</h2>
		<p>Clears the terminal screen.  This has no stack effects.</p>
		<!--
		CLEAR CLS DEBUG ALLOCATE
		Words I'd like to add:
			JS (eval)
			INCLUDE (from localStorage)
			SAVE (to localStorage)
			FETCH (for communicating with external servers)
			Words for canvas, audio, maybe DOM, etc.
		-->
	</main>
</body>
</html>
